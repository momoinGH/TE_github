Assets =
{
    Asset("ANIM", "anim/pigman_tribe.zip"), --图鉴wiki默认动画

    --Asset("SOUNDPACKAGE", "sound/volcano.fev"),
    --Asset("SOUND", "sound/volcano.fsb"),
    --Asset("SOUND", "sound/boats.fsb"),
    --Asset("SOUND", "sound/creatures.fsb"),
    --Asset("SOUND", "sound/slot_machine.fsb"),
    --Asset("SOUND", "sound/waves.fsb"),
    --LOD SOUND FILE
    Asset("SOUNDPACKAGE", "sound/dontstarve_DLC002.fev"),
    Asset("SOUNDPACKAGE", "sound/sw_character.fev"),
    Asset("SOUND", "sound/dontstarve_shipwreckedSFX.fsb"),
    Asset("SOUND", "sound/sw_character.fsb"),
    Asset("SOUNDPACKAGE", "sound/dontstarve_DLC003.fev"),
    Asset("SOUND", "sound/DLC003_sfx.fsb"),
    Asset("IMAGE", "images/fog_cloud.tex"),
    --Asset("SOUND", "sound/amb_stream_SW.fsb"),
    --NEW SOUND FILE
    --Asset("SOUNDPACKAGE", "sound/volcano_new.fev"),
    --Asset("SOUND", "sound/volcano_new.fsb"),
    --Asset("SOUNDPACKAGE", "sound/tropical.fev"),
    --Asset("SOUND", "sound/tropical.fsb"),

    Asset("ATLAS", "images/overlays/poison.xml"),
    Asset("IMAGE", "images/overlays/poison.tex"),
    Asset("ATLAS", "images/overlays/hayfever.xml"),
    Asset("IMAGE", "images/overlays/hayfever.tex"),
    Asset("ATLAS", "images/overlays/fog.xml"),
    Asset("IMAGE", "images/overlays/fog.tex"),
    Asset("ATLAS", "images/overlays/living_artifact.xml"),
    Asset("IMAGE", "images/overlays/living_artifact.tex"),


    Asset("ATLAS", "images/barco.xml"),

    Asset("ANIM", "anim/livingartifact_meter.zip"),
    Asset("ANIM", "anim/player_lifeplant.zip"),
    Asset("ANIM", "anim/player_actions_paddle.zip"),
    Asset("ANIM", "anim/player_actions_speargun.zip"),
    Asset("ANIM", "anim/player_actions_tap.zip"),
    Asset("ANIM", "anim/player_actions_panning.zip"),
    Asset("ANIM", "anim/player_actions_hand_lens.zip"),
    Asset("ANIM", "anim/player_mount_actions_speargun.zip"),
    Asset("ANIM", "anim/walani_paddle.zip"),
    Asset("ANIM", "anim/player_boat_death.zip"),
    Asset("ANIM", "anim/player_sneeze.zip"),
    Asset("ANIM", "anim/des_sail.zip"),
    Asset("ANIM", "anim/player_actions_trawl.zip"),
    Asset("ANIM", "anim/player_actions_machete.zip"),
    Asset("ANIM", "anim/player_actions_shear.zip"),
    Asset("ANIM", "anim/player_actions_cropdust.zip"),
    Asset("ANIM", "anim/ripple_build.zip"),

    Asset("ANIM", "anim/boat_health.zip"),
    Asset("ANIM", "anim/player_actions_telescope.zip"),
    Asset("ANIM", "anim/pig_house_old.zip"),
    Asset("ANIM", "anim/parrot_pirate_intro.zip"),
    Asset("ANIM", "anim/parrot_pirate.zip"),
    Asset("ANIM", "anim/pig_house_sale.zip"),
    Asset("ANIM", "anim/fish2.zip"),
    Asset("ANIM", "anim/fish3.zip"),
    Asset("ANIM", "anim/fish4.zip"),
    Asset("ANIM", "anim/fish5.zip"),
    Asset("ANIM", "anim/fish6.zip"),
    Asset("ANIM", "anim/fish7.zip"),
    Asset("ANIM", "anim/coi.zip"),
    Asset("ANIM", "anim/ballphinocean.zip"),
    Asset("ANIM", "anim/dogfishocean.zip"),
    Asset("ANIM", "anim/goldfish.zip"),
    Asset("ANIM", "anim/salmon.zip"),
    Asset("ANIM", "anim/sharxocean.zip"),
    Asset("ANIM", "anim/swordfishjocean.zip"),
    Asset("ANIM", "anim/swordfishjocean2.zip"),
    Asset("ANIM", "anim/mecfish.zip"),
    Asset("ANIM", "anim/whaleblueocean.zip"),
    Asset("ANIM", "anim/kingfisher_build.zip"),
    Asset("ANIM", "anim/parrot_blue_build.zip"),
    Asset("ANIM", "anim/toucan_hamlet_build.zip"),
    Asset("ANIM", "anim/toucan_build.zip"),
    Asset("ANIM", "anim/parrot_build.zip"),
    Asset("ANIM", "anim/parrot_pirate_build.zip"),
    Asset("ANIM", "anim/cormorant_build.zip"),
    Asset("ANIM", "anim/seagull_build.zip"),
    Asset("ANIM", "anim/quagmire_pigeon_build.zip"),
    Asset("ANIM", "anim/skeletons.zip"),
    Asset("ANIM", "anim/fish2.zip"),
    Asset("ANIM", "anim/oceanfish_small.zip"),
    Asset("ANIM", "anim/oceanfish_small_1.zip"),
    Asset("ANIM", "anim/oceanfish_small_2.zip"),
    Asset("ANIM", "anim/oceanfish_small_3.zip"),
    Asset("ANIM", "anim/oceanfish_small_4.zip"),
    Asset("ANIM", "anim/oceanfish_small_5.zip"),
    Asset("ANIM", "anim/oceanfish_small_6.zip"),
    Asset("ANIM", "anim/oceanfish_small_7.zip"),
    Asset("ANIM", "anim/oceanfish_small_8.zip"),
    Asset("ANIM", "anim/oceanfish_medium.zip"),
    Asset("ANIM", "anim/oceanfish_medium_1.zip"),
    Asset("ANIM", "anim/oceanfish_medium_2.zip"),
    Asset("ANIM", "anim/oceanfish_medium_3.zip"),
    Asset("ANIM", "anim/oceanfish_medium_4.zip"),
    Asset("ANIM", "anim/oceanfish_medium_5.zip"),
    Asset("ANIM", "anim/oceanfish_medium_6.zip"),
    Asset("ANIM", "anim/oceanfish_medium_7.zip"),
    Asset("ANIM", "anim/oceanfish_medium_8.zip"),
    Asset("IMAGE", "levels/textures/outro.tex"),
    Asset("IMAGE", "levels/textures/ground_noise_water_deep.tex"),

    Asset("ANIM", "anim/butterflymuffin.zip"),
    --Asset("SOUNDPACKAGE", "sound/Hamlet.fev"),
    --Asset("SOUND", "sound/Hamlet.fsb"),


    -- @Runar: 声明资产不需要声明tex
    Asset("ATLAS", "images/names_wilbur.xml"),
    Asset("ATLAS", "images/names_woodlegs.xml"),
    Asset("ATLAS", "images/names_walani.xml"),


    Asset("ATLAS", "images/tabs.xml"),
    Asset("ATLAS", "images/turfs/turf01-9.xml"),
    Asset("ATLAS", "images/turfs/turf01-10.xml"),
    Asset("ATLAS", "images/turfs/turf01-11.xml"),
    Asset("ATLAS", "images/turfs/turf01-12.xml"),
    Asset("ATLAS", "images/turfs/turf01-13.xml"),
    Asset("ATLAS", "images/turfs/turf01-14.xml"),
    Asset("ANIM", "anim/vagner_over.zip"),
    Asset("ANIM", "anim/leaves_canopy2.zip"),

    Asset("ANIM", "anim/mushroom_tree_yelow.zip"),
    Asset("ATLAS", "images/cookbook/cookbook_sw.xml"),
    Asset("ATLAS", "images/cookbook/cookbook_ham.xml"),

    Asset("ANIM", "anim/ui_honeychest_7x.zip"),
    Asset("ATLAS", "images/ui/honeychest.xml"),

    Asset("ANIM", "anim/button.zip"),
    Asset("ATLAS", "images/store.xml"),
    Asset("ATLAS", "images/store_soldout.xml"),
    Asset("ATLAS", "images/buttongorge.xml"),
    -- 虚空小地图使用
    Asset("ATLAS", "levels/textures/tro_map_interior/exit.xml"),
    Asset("ATLAS", "levels/textures/tro_map_interior/frame.xml"),
    Asset("ATLAS", "levels/textures/tro_map_interior/mini_antcave_floor.xml"),
    Asset("ATLAS", "levels/textures/tro_map_interior/mini_floor_marble_royal.xml"),
    Asset("ATLAS", "levels/textures/tro_map_interior/mini_ruins_slab.xml"),
    Asset("ATLAS", "levels/textures/tro_map_interior/mini_vamp_cave_noise.xml"),
    Asset("ATLAS", "levels/textures/tro_map_interior/passage_blocked.xml"),
    Asset("ATLAS", "levels/textures/tro_map_interior/passage_unknown.xml"),
    Asset("ATLAS", "levels/textures/tro_map_interior/passage.xml"),

    Asset("IMAGE", "levels/textures/ds_fog1.tex"),
}

-- # No more inventoryitem atlas register
local InvAtlas = {"frost", "greenworld", "grotto", "hamlet", "lavaarena", "quagmire", "rog", "shipwrecked_plus",
                         "shipwrecked", "underwater", "windy", "skins"}
for i = 1, #InvAtlas do
    InvAtlas[i] = "images/inventoryimages/inventory_" .. InvAtlas[i] .. ".xml"
    table.insert(Assets, Asset("ATLAS", InvAtlas[i]))
    table.insert(Assets, Asset("ATLAS_BUILD", InvAtlas[i], 256)) -- for minisign
    InvAtlas[i] = resolvefilepath(InvAtlas[i])
end
local FoodAtlas = {"frost", "ham", "quagmire", "sw", "underwater"}
for i = 1, #FoodAtlas do
    FoodAtlas[i] = "images/inventoryimages/cookpotfoods/cookpotfoods_" .. FoodAtlas[i] .. ".xml"
    table.insert(Assets, Asset("ATLAS", FoodAtlas[i]))
    table.insert(Assets, Asset("ATLAS_BUILD", FoodAtlas[i], 256)) -- for minisign
    FoodAtlas[i] = resolvefilepath(FoodAtlas[i])
end
local MiMapAtlas = {"frost", "volcano", "grotto", "hamlet", "lavaarena", "quagmire", "rog", "shipwrecked_plus",
                       "shipwrecked", "underwater", "windy"}
for i = 1, #MiMapAtlas do
    MiMapAtlas[i] = "minimap/minimap_" .. MiMapAtlas[i] .. ".xml"
    table.insert(Assets, Asset("ATLAS", MiMapAtlas[i]))
    AddMinimapAtlas(MiMapAtlas[i])
    MiMapAtlas[i] = resolvefilepath(MiMapAtlas[i])
end

local old_GetInventoryItemAtlas_Internal = GLOBAL.GetInventoryItemAtlas_Internal
local function GetInventoryItemAtlas_Extended(imagename, no_fallback)
    local atlas
    for _, path in ipairs(InvAtlas) do
        if TheSim:AtlasContains(path, imagename) then
            atlas = path
            break
        end
    end
    if atlas then return atlas end
    for _, path in ipairs(FoodAtlas) do
        if TheSim:AtlasContains(path, imagename) then
            atlas = path
            break
        end
    end
    if atlas then return atlas end
    for _, path in ipairs(MiMapAtlas) do
        if TheSim:AtlasContains(path, imagename) then
            atlas = path
            break
        end
    end
    if atlas then return atlas end
    return old_GetInventoryItemAtlas_Internal(imagename, no_fallback)
end
rawset(GLOBAL, "GetInventoryItemAtlas_Internal", GetInventoryItemAtlas_Extended)
